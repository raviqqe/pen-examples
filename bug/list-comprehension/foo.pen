foo = \(xs [[boolean]]) [string] {
  (\(list [[boolean]]) [string] {
    if [x, ...list] = list {
      (\(list [boolean]) [string] {
        if [y, ...list] = list {
          [string
            if y() { "o" } else { "." },
          ]
        } else {
          [string]
        }
      })(x())
    } else {
      [string]
    }
  })(xs)
}
