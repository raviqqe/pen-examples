foo = \(xs [[boolean]]) [[string]] {
  (\(list [[boolean]]) [[string]] {
    if [_, ...list] = list {
      [[string]
        (\(list [boolean]) [string] {
          if [_, ...list] = list {
            [string]
          } else {
            [string]
          }
        })([boolean]),
      ]
    } else {
      [[string]]
    }
  })(xs)
}
